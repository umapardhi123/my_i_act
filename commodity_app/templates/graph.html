<!--
=========================================================
* Argon Dashboard 2 - v2.0.4
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-dashboard
* Copyright 2022 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)
* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE html>
<html lang="en">

<head>
  {% load static %}
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="{% static 'img/apple-icon.png' %}">
  <link rel="icon" type="image/png" href="{% static 'img/WATERMARK_OPT1.png' %}">
  <title>
    | &nbsp; Commodity
  </title>
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <!-- Nucleo Icons -->
  <link href="{% static 'css/nucleo-icons.css' %}" rel="stylesheet" />
  <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" />



  <!-- CSS Files -->
  <link id="pagestyle" href="{% static 'css/argon-dashboard.css' %}" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/simplebar@latest/dist/simplebar.css" />

  <!-- stock -->
    <!-- Custom fonts for this template-->
    <link href="{% static 'vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template-->
    <!-- <link href="{% static 'css/sb-admin-2.min.css' %}" rel="stylesheet"> -->
    <link href="{% static 'vendor/datatables/dataTables.bootstrap4.min.css' %}" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="{% static 'css/lightslider.css' %}" />   

  <style>
    /* .bg-primary{
        background-color: #5e72e4 !important;
    } */
    .table-responsive {
      /* width: 30em; */
      overflow-x: auto;      
      white-space: nowrap;
    }

    .table-responsive::-webkit-scrollbar {
      width: 1em;
      height: 3px!important;
    }

    .table-responsive::-webkit-scrollbar-track {
      border-radius: 10px;
      -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
      height: 3px!important;

    }

    .table-responsive::-webkit-scrollbar-thumb {
      border-radius: 10px!important;
      height: 3px !important;
      background-color: rgb(109, 112, 113)!important;
      outline: 1px solid slategrey!important;
    }

    .table-responsive::-webkit-scrollbar:vertical {
      display: none;
    }


    .table-responsive::-webkit-scrollbar {
  width: 100%;
  overflow: hidden;
}
table td{
  text-align: center;
  color: #181B31;
  border-top: 1px solid #EEF1F2;
  font-weight: 500;
  font-size: 0.875rem;
  font-family: Montserrat, Verdana, sans-serif;
}
table th {
  text-align: center;
  font-weight: 500;
  font-size: 0.875rem;
  font-family: Montserrat, Verdana, sans-serif;

}
table th a{
    text-decoration: none;
}
table td a{
    text-decoration: none;
}
.card-header{
    background-color: #f8f9fc;
}

    @media (max-width: 575.98px) {
      .table-responsive-sm {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
    }

    @media (max-width: 767.98px) {
      .table-responsive-md {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
    }

    @media (max-width: 991.98px) {
      .table-responsive-lg {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
    }

    @media (max-width: 1199.98px) {
      .table-responsive-xl {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
    }

    @media (max-width: 1399.98px) {
      .table-responsive-xxl {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
    }

    .drop-zone {
      /* max-width: 50%; */
      margin-left: auto;
      max-width: none;
      height: 150px;
      padding: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-family: "Quicksand", sans-serif;
      font-weight: 500;
      font-size: 20px;
      cursor: pointer;
      color: #cccccc;
      border: 4px dashed #e7eeed;
      border-radius: 10px;
      margin-left: 250px;
    }

    .drop-zone--over {
      border-style: solid;
    }

    .drop-zone__input {
      display: none;
    }

    .drop-zone__thumb {
      width: 100%;
      height: 100%;
      border-radius: 10px;
      overflow: hidden;
      background-color: #cccccc;
      background-size: cover;
      position: relative;
    }

    .drop-zone__thumb::after {
      content: attr(data-label);
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 5px 0;
      color: #ffffff;
      background: rgba(0, 0, 0, 0.75);
      font-size: 14px;
      text-align: center;
    }


    .form-input {
      width: 500px;
      padding: 20px;
      /* background:#fff; */
      /* border: 4px dashed #172b4d; */
      border: 4px dashed #e7eeed;


      border-radius: 10px;
      box-shadow: -3px -3px 7px rgba(94, 104, 121, 0.377),
        3px 3px 7px rgba(94, 104, 121, 0.377);
    }

    .form-input img {
      width: 100%;
      display: none;
      margin-bottom: 30px;
    }

    .form-input input {
      display: none;
    }

    .form-input label {
      display: block;
      width: 45%;
      height: 45px;
      margin-left: 25%;
      line-height: 50px;
      text-align: center;
      /* background:#1172c2; */
      background-color: #5e72e4;
      color: #fff;
      font-size: 15px;
      font-family: "Open Sans", sans-serif;
      text-transform: Uppercase;
      font-weight: 600;
      border-radius: 5px;
      cursor: pointer;
    }

    .center {
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;

    }

    html * {
      box-sizing: border-box;
    }

    p {
      margin: 0;
    }


    .article {
      margin: 0.5em;
      border: 4px dashed #e7eeed;
      padding: 25px;
      border-radius: 10px;
    }

    output {
      display: block;
    }

    .thumbnail {
      display: inline-block;
    }

    .thumbnail img {
      height: 100px;
      margin: 4px;
      border: 1px solid #444;
    }

    label.caption {
      display: block;
      text-align: center;
      font-style: italic;
      color: #444;
    }
    @media(max-width:1119px){
      /* #file-ip-1-preview{
        width: 450px;
      } */
    }
  </style>
</head>

<body class="g-sidenav-show   bg-gray-100">
  <!-- <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKDMSK6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> -->
  <div class="min-height-300 bg-primary position-absolute w-100"></div>
  
  
  <main class="main-content position-relative border-radius-lg ">
    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur"
      data-scroll="false">
      <div class="container-fluid py-1 px-3">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
            <!-- <li class="breadcrumb-item text-sm"><a class="opacity-5 text-white" href="javascript:;">Pages</a></li> -->
            <!-- <li class="breadcrumb-item text-sm text-white active" aria-current="page">Dashboard</li> -->
            
          </ol>
          <h6 class="font-weight-bolder text-white mb-0"><a href="{% url 'landingpage' %}"><span><i class="fa fa-arrow-left" aria-hidden="true" style="color:white"></i></span></a>&nbsp;&nbsp;Dashboard</h6>
        </nav>
        <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
          <div class="ms-md-auto pe-md-3 d-flex align-items-center">
            <div class="input-group">
              <span class="input-group-text text-body"><i class="fas fa-search" aria-hidden="true"></i></span>
              <input type="text" class="form-control" placeholder="Type here...">
            </div>
          </div>
          <ul class="navbar-nav  justify-content-end">
            <!-- <li class="nav-item d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-white font-weight-bold px-0">
                <i class="fa fa-user me-sm-1"></i>
                <span class="d-sm-inline d-none">Sign In</span>
              </a>
            </li> -->
            <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-white p-0" id="iconNavbarSidenav">
                <div class="sidenav-toggler-inner">
                  <i class="sidenav-toggler-line bg-white"></i>
                  <i class="sidenav-toggler-line bg-white"></i>
                  <i class="sidenav-toggler-line bg-white"></i>
                  </div>
              </a>
            </li>
           
            <li class="nav-item dropdown pe-2 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-white p-0" id="dropdownMenuButton" data-bs-toggle="dropdown"
                aria-expanded="false">
                <i class="fa fa-bell cursor-pointer"></i>
              </a>
              <ul class="dropdown-menu  dropdown-menu-end  px-2 py-3 me-sm-n4" aria-labelledby="dropdownMenuButton">
                <li class="mb-2">
                  <a class="dropdown-item border-radius-md" href="javascript:;">
                    <div class="d-flex py-1">
                      <div class="my-auto">
                        <img src="{% static 'img/team-2.jpg' %}" class="avatar avatar-sm  me-3 ">
                      </div>
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          <span class="font-weight-bold">New message</span> from Laur
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          13 minutes ago
                        </p>
                      </div>
                    </div>
                  </a>
                </li>
                <li class="mb-2">
                  <a class="dropdown-item border-radius-md" href="javascript:;">
                    <div class="d-flex py-1">
                      <div class="my-auto">
                        <img src="{% static 'img/small-logos/logo-spotify.svg' %}"
                          class="avatar avatar-sm bg-gradient-dark  me-3 ">
                      </div>
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          <span class="font-weight-bold">New album</span> by Travis Scott
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          1 day
                        </p>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item border-radius-md" href="javascript:;">
                    <div class="d-flex py-1">
                      <div class="avatar avatar-sm bg-gradient-secondary  me-3  my-auto">
                        <svg width="12px" height="12px" viewBox="0 0 43 36" version="1.1"
                          xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                          <title>credit-card</title>
                          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g transform="translate(-2169.000000, -745.000000)" fill="#FFFFFF" fill-rule="nonzero">
                              <g transform="translate(1716.000000, 291.000000)">
                                <g transform="translate(453.000000, 454.000000)">
                                  <path class="color-background"
                                    d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z"
                                    opacity="0.593633743"></path>
                                  <path class="color-background"
                                    d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z">
                                  </path>
                                </g>
                              </g>
                            </g>
                          </g>
                        </svg>
                      </div>
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          Payment successfully completed
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          2 days
                        </p>
                      </div>
                    </div>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Begin Page Content -->
    <div class="container-fluid">
        <span class="text m-3 mb-2" style="font-size: 25px;font-weight: 800px; color:white">{{ pdf.Ticker.0 }} ({{ pdf.Company.0 }})</span>

         <!-- Content Row -->
         <div class="row mt-2">
          <div class="col-lg-6">
            <div class="card shadow mb-4" >
                <div class="card-header py-3" style="background-image: linear-gradient(245.38deg, #4482CC 6.36%, #447ECC 10.79%, #4553C7 61.98%, #3B44BC 77.28%, #2B2DAB 106.71%, #2525A5 125.27%);">
                    <h6 class="m-0 font-weight-bold " style="color:ghostwhite">Wallstreetzen</h6>
                </div>
                <div class="card-body">
                    <div class="table-responsive" >
                        <table class="table text-nowrap" width="100" cellspacing="0">
                            <thead>
                                <tr>
                                    <th style="background-color: #FAFAFA !important;color: #181B31;">Consensus</th>
                                    <th> <a href="#">Strong buy</a></th>
                                    <th> <a href="#">Buy</a></th>
                                    <th> <a href="#">Hold</a></th>
                                    <th> <a href="#">Strong sell</a></th>
                                    <th> <a href="#"> Sell </a></th>                                             
                                </tr>
                            </thead>
                            
                            <tbody>
                              <tr>                            
                                <td style="background-color: #FAFAFA !important;"><a href="#">Ocurrences</a></td>
                                <td>{{ wstdf.occurences.0 }}</td>
                                <td>{{ wbuydf.occurences.0 }}</td>
                                <td>{{ wholddf.occurences.0 }}</td>
                                <td>{{ wdfsell.occurences.0 }}</td>
                                <td >{{ wdfstsell.occurences.0 }}</td>
                                                                                                   
                              </tr>
                              <tr>                            
                                <td style="background-color: #FAFAFA !important;"><a href="#">Percentage</a></td>
                                <td>{{ wstdf.percentage.0 }}</td>
                                <td>{{ wbuydf.percentage.0 }}</td>
                                <td>{{ wholddf.percentage.0 }}</td>
                                <td>{{ wdfsell.percentage.0 }}</td>
                                <td >{{ wdfstsell.percentage.0 }}</td>                                                                     
                              </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div> 
          </div>  
          <div class="col-lg-6">
            <div class="card shadow mb-4" >
                <div class="card-header py-3" style="background: linear-gradient(5deg, #6001d2, rgb(159, 46, 159));">
                    <h6 class="m-0 font-weight-bold" style="color:ghostwhite">Yahoo Finance</h6>
                </div>
                <div class="card-body">
                    <div class="table-responsive" >
                        <table class="table text-nowrap" width="100" cellspacing="0">
                            <thead>
                                <tr>
                                    <th style="background-color: #FAFAFA !important;color: #181B31;">Consensus</th>
                                    <th> <a href="#">Strong buy</a></th>
                                    <th> <a href="#">Buy</a></th>
                                    <th> <a href="#">Hold</a></th>
                                    <!-- <th> <a href="#">Strong sell</a></th>
                                    <th> <a href="#"> Sell </a></th>                                              -->
                                </tr>
                            </thead>
                            
                            <tbody>
                              <tr>                            
                                <td style="background-color: #FAFAFA !important;"><a href="#">Ocurrences</a></td>
                                <td>{{ ydf_stbuy.occurences.0 }}</td>
                                <td>{{ ydf_buy.occurences.0 }}</td>
                                <td>{{ ydf_hold.occurences.0 }}</td>
                                <!-- <td>{{ wdfsell.occurences.0 }}</td>
                                <td >{{ wdfstsell.occurences.0 }}</td> -->
                                                                                                   
                              </tr>
                              <tr>                            
                                <td style="background-color: #FAFAFA !important;"><a href="#">Percentage</a></td>
                                <td>{{ ydf_stbuy.percentage.0 }}</td>
                                <td>{{ ydf_buy.percentage.0 }}</td>
                                <td>{{ ydf_hold.percentage.0 }}</td>
                                <!-- <td>{{ wdfsell.percentage.0 }}</td>
                                <td >{{ wdfstsell.percentage.0 }}</td>                                                                      -->
                              </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div> 
          </div>  
        </div>

        <div class="row">
          <div class="col-lg-12">
            <div class="card shadow mb-3">
                <div class="card-header">{{ pdf.Ticker.0 }} ({{ pdf.Company.0 }})</div>
                <div class="card-body">

                    <div style="float: right;">
                        <span style="background-color: #36b9cc; color: white; padding: 7px; border-radius: 5px;">Actual</span>
                        <br><br>
                        <span style="background-color: #1cc88a; color: white; padding: 7px; border-radius: 5px;">Predicted</span>
                        <br><br>
                    </div>
                    <!-- <canvas id="chart" width="700" height="300"></canvas> -->
                    <div id="chart"></div>
                </div>
            </div>
        </div>
        <div class="col-lg-12">
          <div class="card shadow mb-3">
              <div class="card-header">{{ pdf.Ticker.0 }} ({{ pdf.Company.0 }})</div>
              <div class="card-body">
                 
                  <canvas id="mychart" width="700" height="300"></canvas>
              </div>
          </div>
       </div>
         </div>

        <div class="row">
            <span class=" text m-3" style="font-size: 25px;font-weight: 800px;">{{ com }}</span>
            <div class="slider-news">
                <ul id="lightSlider">                  
                    {% for v in news.itertuples %}
                    <div class="card  mb-4">
                        <div class="card-body ">
                            <li>
                                <h6><a style="text-decoration: none;color: #181B31;" href="{{ v.url }}">{{ v.news }}</a></h6>
                                <!-- <p>Lorem ipsum Cupidatat quis pariatur anim.</p>
                                <span>18 hours ago</span> -->
                            </li>
                        </div>
                    </div>
                    {% endfor %}          
                  </ul>
            </div>
        </div>
        
         </div>                     
         
       
    </div>

    <!-- /.container-fluid -->
  </main>

  <!--   Core JS Files   -->
  <script src="{% static 'js/core/popper.min.js' %}"></script>
  <script src="{% static 'js/core/bootstrap.min.js' %}"></script>
  <script src="{% static 'js/plugins/perfect-scrollbar.min.js' %}"></script>
  <script src="{% static 'js/plugins/smooth-scrollbar.min.js' %}"></script>
  <script src="{% static 'js/plugins/chartjs.min.js' %}"></script>


  <!-- Github buttons -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/datetime/1.2.0/js/dataTables.dateTime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="{% static 'js/argon-dashboard.min.js?v=2.0.4' %}"></script>
  <script src="{% static 'js/argon-dashboard.js' %}"></script>
  <script src="{% static 'js/argon-dashboard.min.js' %}"></script>
  <script src="{% static 'js/argon-dashboard.js.map' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js"> </script>

  <!-- stock -->
 
  <!--Chart JS -->
<script src="{% static 'charts/Chart.bundle.js' %}"></script>
<script src="{% static 'charts/Chart.bundle.min.js' %}"></script>
<script src="{% static 'charts/Chart.js' %}"></script>
<script src="{% static 'charts/Chart.min.js' %}"></script>
  <!-- Page level plugins -->
  <script src="{% static 'vendor/datatables/jquery.dataTables.min.js' %}"></script>
  <!-- <script src="{% static 'vendor/datatables/dataTables.bootstrap4.min.js' %}"></script> -->

  <!-- Page level custom scripts -->
  <script src="{% static 'js/demo/datatables-demo.js' %}"></script>
  <script src='https://cdn.plot.ly/plotly-2.18.0.min.js'></script>
  <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.stock.min.js"></script>
  <script src="{% static 'js/lightslider.js' %}"></script>

  <script type="text/javascript">
    $(document).ready(function() {
        $("#lightSlider").lightSlider({
            item: 3,
            autoWidth: false,
            slideMove: 1, // slidemove will be 1 if loop is true
            slideMargin: 10,
     
            addClass: '',
            mode: "slide",
            useCSS: true,
            cssEasing: 'ease', //'cubic-bezier(0.25, 0, 0.25, 1)',//
            easing: 'linear', //'for jquery animation',////
     
            speed: 400, //ms'
            auto: false,
            loop: false,
            slideEndAnimation: true,
            pause: 2000,
     
            keyPress: false,
            controls: true,
            prevHtml: '',
            nextHtml: '',
     
            rtl:false,
            adaptiveHeight:false,
     
            vertical:false,
            verticalHeight:500,
            vThumbWidth:100,
     
            thumbItem:10,
            pager: true,
            gallery: false,
            galleryMargin: 5,
            thumbMargin: 5,
            currentPagerPosition: 'middle',
     
            enableTouch:true,
            enableDrag:true,
            freeMove:true,
            swipeThreshold: 40,
     
            responsive : [],
     
            onBeforeStart: function (el) {},
            onSliderLoad: function (el) {},
            onBeforeSlide: function (el) {},
            onAfterSlide: function (el) {},
            onBeforeNextSlide: function (el) {},
            onBeforePrevSlide: function (el) {}
        });
    });
    </script>  
 
    <script>
        function renderChart(data, labels, colors){
            // $("#colorbar").css('display', '')
            $("#chart").empty();
            $("#chart").html('<canvas id="analyticsChart" width="700" height="300"></canvas>');
            var ctx = document.getElementById("analyticsChart").getContext('2d');
            var analyticsChart = new Chart(ctx, {
                type: 'line',
                plugins: [{
                    afterLayout: chart => {
                      var ctx = chart.chart.ctx;
                      var xAxis = chart.scales['x-axis-0'];
                      var gradientStroke = ctx.createLinearGradient(xAxis.left, 0, xAxis.right, 0);
                      var dataset = chart.data.datasets[0];
                      dataset.colors.forEach((c, i) => {
                        var stop = 1 / (dataset.colors.length - 1) * i;
                        gradientStroke.addColorStop(stop, dataset.colors[i]);
                      });
                      dataset.backgroundColor = gradientStroke;
                      dataset.borderColor = gradientStroke;
                      dataset.pointBorderColor = gradientStroke;
                      dataset.pointBackgroundColor = gradientStroke;
                      dataset.pointHoverBorderColor = gradientStroke;
                      dataset.pointHoverBackgroundColor = gradientStroke;
                    }
                  }],
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        colors: colors,
                        pointRadius: 5,
                    },
                    ]
                },
                
                options: {
                    //events: [],
                    scales: {
                        xAxes: [{
                        ticks: {
                            beginAtZero: false,
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Date',
                            fontStyle: "bold",
                        }
                        }],
                        yAxes: [{
                            ticks: {
                                beginAtZero: false,
                            },
                            scaleLabel: {
                                display: true,
                                labelString: 'Value',
                                fontStyle: "bold",
                            }
                        }]
                    },
                    legend: {
                        display: false
                     },
                },
            });
        }
    
    
        {% for key, value in pred_dict.items %}
        var pred = {{value|safe}}["predicted"]['Close'];
        var actual = {{value|safe}}["actual"]['Close'];
        var predlabels = {{value|safe}}["predicted"]['Date'];
        var actuallabels = {{value|safe}}["actual"]['Date'];
        var predcolor = {{value|safe}}["predicted"]["color"];
        var actualcolor = {{value|safe}}["actual"]["color"];
        labels = actuallabels.concat(predlabels);
        data = actual.concat(pred);
        colors = actualcolor.concat(predcolor);
        // chart_no = '{{ forloop.counter }}'
        renderChart(data, labels, colors);
        {% endfor %}

var canvas = document.getElementById("mychart");
var ctx = canvas.getContext('2d');

// Global Options:
Chart.defaults.global.defaultFontColor = 'black';
Chart.defaults.global.defaultFontSize = 16;

var data = {
  labels: {{labels1|safe}},
  datasets: [{
      label: " Actual",
      fill: false,
      lineTension: 0.1,
      backgroundColor: {{colors|safe}},
      borderColor: "#1cc88a", // The main line color
      borderCapStyle: 'butt',
      borderDash: [], // try [5, 15] for instance
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "#1cc88a",
      pointBackgroundColor: "#1cc88a",
      pointBorderWidth: 1,
      pointHoverRadius: 8,
      pointHoverBackgroundColor: "#1cc88a",
      pointHoverBorderColor: "#1cc88a",
      pointHoverBorderWidth: 2,
      pointRadius: 4,
      pointHitRadius: 10,
      // notice the gap in the data and the spanGaps: true
      data: {{data1|safe}},
      spanGaps: true,
    }, {
      label: "Predictions",
      fill: true,
      lineTension: 0.1,
      backgroundColor: "#bed3fd",
      borderColor: "#645df9",
      borderCapStyle: 'butt',
      borderDash: [],
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "white",
      pointBackgroundColor: "#645df9",
      pointBorderWidth: 1,
      pointHoverRadius: 8,
      pointHoverBackgroundColor: "#645df9",
      pointHoverBorderColor: "#645df9",
      pointHoverBorderWidth: 2,
      pointRadius: 4,
      pointHitRadius: 10,
      // notice the gap in the data and the spanGaps: false
      data: {{data|safe}},
      spanGaps: false,
    }

  ]
};

// Notice the scaleLabel at the same level as Ticks
var options = {
  scales: { xAxes: [{
                        ticks: {
                            beginAtZero: false,
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Date',
                            fontStyle: "bold",
                        }
                        }],
            yAxes: [{
                ticks: {
                    beginAtZero:true
                },
                scaleLabel: {
                     display: true,
                     labelString: 'Value',
                     fontSize: 20 
                  }
            }]            
        }  
};

// Chart declaration:
var myBarChart = new Chart(ctx, {
  type: 'line',
  data: data,
  options: options
});

        
    </script>








</body>

</html>